(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAAAoKCh0dHT7+/sjIyPl5eVpaWnw8PD8/Pz39/fz8/Orq6vT09Pp6elAQEB8fHyioqJXV1ezs7MtLS1PT09mZma/v7/Z2dlISEgLCwuIiIjFxcXf398ZGRk6OjqWlpZdXV0yMjKcnJyBgYETExNUTRjeAAAEHElEQVR4nO3ciVLqQBAFUBoim8omoBBBAvL/vyiLQsg2jZlO06l7PkD61nsp5s5MaDQAAAAAAAAAAAAAAAAAAAAAAAAAAADgQQSf2hNIC2ix0p5BVvBENOpqTyHpmJBorD2GoHNC+qrv4/ibkGjS1h5FyCUhUfisPYyIWEJav2hPIyGe8PA4vmrP499tQqJooD2Rb8mERJu+9kx+pRNS8017KK8yEhINP7TH8igzIVGrPo9jTkKiXU97NE9yE9L0XXs2P/ITUk16VVFCou8a9KrihLS036scCYm21nuVM6H5XsVIaLxXsRKa7lW8hJZ7FTchUcfoQo6f8NCrAu1p/+OehPRksVfdldBkr7ozocVe1bwzYeEGefetNZw2H8zdAYmaOQu5VfSPP/agZlm9KtSeyq9Ur+rNtEfybZlYyC20BxKwjS/kRtrTyIguvepVexQx4e8Gee0ewqv9aSHX1h5D1LFX7bSHEBY2Iu0RZO36jXsXt6Z0jl/9S+0p5CzO34m1Tbj+a8RT7UmEhJfT4o72KCLiJ/4v2sMIGN50xIH2OP4ld4jn2gN5Nkpd16jXsi3zpGasPZU/25zD75b2YL6Mc/e9J9qjedEqOmarQcRZ8YZ3YH2rxn1o0e+4tarHXTTbvdDHq3Zzu9dOWCczC7MHwA1WwqXFU8Mrd8LQ7AN45kpo/1Z0ccI6vGhSmNDwLZqrgoTpjsTVW7WdfIYolJtwUuZyKeOwdOctgkNOwrIXhL/dEat6BLITjktf8mbUxYq+ZrMSFnYkLsYGYzUXydMJZ56WaJE7YiXfRcmEa2//d3qMuljFejeR0OflvN6XO2IFbwPcJJz7XaJ1t+6I8ovCWEL/HWmwdiZ8Ei+e14QS30+M3f6p9B3yv4ShzO3YlTvil/C93HPCSGyZyLhos5D67LNjQtGXRj7dESPBjz8k3Ev/oAIjYkfy8wP5TYo3d8SR9AzCGOdSofaMJW3cETfaM5bEaMTWXwNkXD+1vinEaMTW3ztm3GWwvnXJuGRr+XjkIBi6Ixp/ebzPuP1m/AzhmXHOZTziwH3g3LR7FHvCqItbk69xXn24Iy6M/+QIoxFPjEdk1MW59owlMepiS3vGkhgXitGIHx6jEVd2gCrkgQ5QpTAase17Sqy6aL0R178ucl6Ntl4X69+In92/57C2/RNVnLoof4Aqq713RzR+95NRF4fG/xXddXFvfOfGWRet79scvBcGXBh/DE+KGvGkDgGL6qL1HZuLvLpofb8mJvsA1fpWxo2sumh9IyMhSgXcaI/kWzKi9WP9tN7tG6jWtzCy3NRF6xsY2WI3Xa0f6Ofp/jVi6/sz+dqnK8VLez8gync6QDW+ceGwoqn9tlTs1XrfBQAAAAAAAAAAAAAAAAAAAAAAAAAAqIUf92A+jyJz8XYAAAAASUVORK5CYII="},105:function(e,t,a){e.exports=a(176)},110:function(e,t,a){},111:function(e,t,a){},129:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var o=a(1),r=a.n(o),s=a(14),n=a.n(s),i=(a(110),a(52)),l=a(3),c=(a(111),a(99)),d=a(100),h=a(104),u=a(103),p=a(25),m=a.n(p),g=a(101),y=a.n(g),A=(a(129),a(130),a(55)),v=a(0),f=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).response_nodes=[],o.server_url="http://127.0.0.1:3000",o.state={treeData:[],RefreshTreeData:[],treeData2:[],allowDraggingParentNodes:!0,allowDroppingIntoEmpty:!0},o}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.loadInitialShopData(),this.loadInitialWarehouseData(),this.setState({})}},{key:"saveMappings",value:function(){console.log(this.UpdatedShopData),console.log(this.state.treeData),console.log(this.state.RefreshTreeData),this.loadInitialShopData(),this.loadInitialWarehouseData();var e=this.response_nodes;m.a.post(this.server_url+"/api/trees/shops",{selected_nodes:e}).then((function(e){console.log(e),console.log(e.data)})),this.response_nodes=[]}},{key:"refreshWareHouse",value:function(){localStorage.getItem("RefreshTreeData")&&this.setState({treeData:JSON.parse(localStorage.getItem("RefreshTreeData"))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid",style:{paddingLeft:"8%",paddingRight:"8%",paddingTop:"60px",paddingBottom:"60px"}},r.a.createElement("div",{className:"row",style:{height:"600px"}},r.a.createElement("div",{className:"col-lg-5 col-md-5 col-sm-5",style:{padding:"5%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},r.a.createElement("h3",null,"Ware Houses and products"),r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.refreshWareHouse.bind(this)},"Click Refresh WareHouse Products To Become Orignal"),r.a.createElement(A.a,{className:"custom-tree",itemsSource:this.state.treeData,displayMemberPath:"header",childItemsPath:"items",allowDragging:!0,dragStart:this.on_Drag_Start_From_WareHouse_Data.bind(this),dragOver:this.on_Drag_Over_Between_WareHouse.bind(this),initialized:this.initialized2.bind(this),lazyLoadFunction:this.warehouseLazyLoad.bind(this)})),r.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2",style:{textAlign:"center"}},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.saveMappings.bind(this)},"Save Mappings"),r.a.createElement("img",{src:y.a,alt:"Mapping",height:"40%",width:"80%",style:{paddingTop:"80%"}})),r.a.createElement("div",{className:"col-lg-5 col-md-5 col-sm-5",style:{padding:"5%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},r.a.createElement("h3",null,"Shops"),r.a.createElement("button",{id:"btnRemove",className:"btn btn-warning",onClick:this.onRemoveClick.bind(this)},"Remove Selected Node"),r.a.createElement(A.a,{className:"custom-tree",itemsSource:this.state.treeData2,displayMemberPath:"header",childItemsPath:"items",allowDragging:!0,dragEnd:this.on_Drag_End_Toward_Shop_Data.bind(this),dragOver:this.on_Drag_Over_Between_WareHouse_And_Shop.bind(this),selectedItemChanged:this.onSelectedItemChanged.bind(this),initialized:this.initialized.bind(this),lazyLoadFunction:this.shopLazyLoad.bind(this)}))))}},{key:"initTreeView",value:function(e){this._wjTreeViewControl=e}},{key:"initialized",value:function(e){this._control=e,this._control.selectedItem=this._control.itemsSource[0]}},{key:"initialized2",value:function(e){this._control=e,this._control.selectedItem=this._control.itemsSource[0]}},{key:"onSelectedItemChanged",value:function(){var e=document.getElementById("btnRemove");v.setAttribute(e,"disabled",this._control.selectedItem?null:"disabled")}},{key:"onRemoveClick",value:function(){var e=this._control;if(e.selectedItem){var t=e.selectedNode.parentNode,a=t?t.dataItem[e.childItemsPath]:e.itemsSource,o=a.indexOf(e.selectedItem);a.splice(o,1),e.loadTree()}}},{key:"getRefreshTreeData",value:function(){return this.state.RefreshTreeData}},{key:"onCustomCSSClick",value:function(e){v.toggleClass(this._wjTreeViewControl.hostElement,"custom-tree",e.target.checked),this.setState({customCSS:!0})}},{key:"on_Drag_End_Toward_Shop_Data",value:function(e,t){console.log(e),this.setState({treeData:JSON.parse(localStorage.getItem("RefreshTreeData"))}),this.UpdatedShopData=e.itemsSource,this.setState({treeData2:this.UpdatedShopData});var a=JSON.parse(JSON.stringify(e.selectedNode.dataItem));a.parent=null,e.selectedNode.parentNode&&(a.parent=e.selectedNode.parentNode.dataItem),this.response_nodes.push(a),console.log(this.response_nodes)}},{key:"on_Drag_Start_From_WareHouse_Data",value:function(e,t){console.log(e.itemsSource),localStorage.setItem("RefreshTreeData",JSON.stringify(e.itemsSource)),t&&t.node&&t.node.hasChildren&&(t.node.isCollapsed=!0)}},{key:"on_Drag_Over_Between_WareHouse_And_Shop",value:function(e,t){var a=t.dragSource.treeView,o=t.dropTarget.treeView;a===o&&(t.cancel=!0),a!==o&&(t.cancel=!1)}},{key:"on_Drag_Over_Between_WareHouse",value:function(e,t){var a=t.dragSource.treeView,o=t.dropTarget.treeView;a===o&&(t.cancel=!0),a!==o&&(t.cancel=!0)}},{key:"setAllowDrag1",value:function(){this.setState({allowDrag1:!this.state.allowDrag1})}},{key:"setAllowDrag2",value:function(){this.setState({allowDrag2:!this.state.allowDrag2})}},{key:"loadInitialShopData",value:function(){var e=this,t=this.server_url+"/api/trees/shops";m.a.get(t+"?page=1&limit=30").then((function(t){var a=t.data.data.results.map((function(e){var t={};return"category"===e.type?(t.header=e.name,t.key=e._id,t.type=e.type,t.items=[]):"productCategory"===e.type&&(t.header=e.warehouse_product.title,t.key=e.warehouse_product._id,t.type=e.warehouse_product.type),t}));e.setState({treeData2:a})}))}},{key:"loadInitialWarehouseData",value:function(){var e=this,t=this.server_url+"/api/trees/warehouses";m.a.get(t+"?page=1&limit=30").then((function(t){var a=t.data.data.results.map((function(e){var t={};return"warehouse"===e.type&&(t.header=e.name,t.key=e._id,t.type=e.type,t.items=[]),console.log(t),t}));e.setState({treeData:a,RefreshTreeData:a})}))}},{key:"shopLazyLoad",value:function(e,t){var a=this.server_url+"/api/trees/shops"+"?page=1&limit=30&parent="+String(e.dataItem.key);m.a.get(a).then((function(e){var a=e.data.data.results.map((function(e){var t={};return"category"===e.type?(t.header=e.name,t.key=e._id,t.type=e.type,t.items=[]):"productCategory"===e.type&&(t.header=e.warehouse_product.title,t.key=e.warehouse_product._id,t.type=e.warehouse_product.type),t}));t(a)}))}},{key:"warehouseLazyLoad",value:function(e,t){var a=this,o=this.server_url+"/api/trees/warehouses",r="";r=0===e.level?o+"?page=1&limit=30&warehouse="+String(e.dataItem.key):o+"?page=1&limit=30&parent="+String(e.dataItem.key)+"&warehouse="+String(e.dataItem.warehouse),m.a.get(r).then((function(o){var r=o.data.data.results.map((function(e){var t={};return"category"===e.type&&(t.warehouse=e.warehouse),"category"===e.type||"warehouse"===e.type?(t.header=e.name,t.key=e._id,t.type=e.type,t.items=[]):"productCategory"===e.type&&(t.header=e.warehouse_product.title,t.key=e.warehouse_product._id,t.type=e.warehouse_product.type),t}));a.setState({RefreshTreeData:e.itemsSource}),t(r)}))}}]),a}(o.Component);var S=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App",style:{paddingTop:"20px"}},r.a.createElement(i.b,{to:"/mappings"},r.a.createElement("button",{className:"btn btn btn-success"},"Go to Mappings"))),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/mappings",component:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(135),a(172),a(173),a(175);n.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.2e3fc0a1.chunk.js.map